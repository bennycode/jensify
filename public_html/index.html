<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Jensify</title>
    <style>
      canvas {
        position: absolute;
        top: 0;
        left: 0;
        background: black;
      }

      div {
        position: absolute;
        top: 0;
        left: 0;
        width: 750px;
        height: 560px;
        background: transparent url(./jens.png);
        background-size: cover;
        z-index: 999;
        pointer-events: none;
      }

      p {
        position: absolute;
        top: 20px;
        left: 800px;
      }
    </style>
  </head>

  <body>
    <div id="jens-overlay"></div> 
    <canvas id="my-canvas" width="750" height="560"></canvas>
    <script>
      (function () {
        var canvas = document.getElementById("my-canvas");
        var context = canvas.getContext("2d");
        var droppedImage = document.createElement("img");

        droppedImage.addEventListener("load", function () {
          context.clearRect(0, 0, canvas.width, canvas.height);

          var horizontalRatio = canvas.width / droppedImage.width;
          var verticalRatio = canvas.height / droppedImage.height;
          var ratio = Math.min(horizontalRatio, verticalRatio);

          var x = 0;
          var y = 0;

          var w = 750;
          var h = 560;

          var offsetX = 0.5;
          var offsetY = 0.5;

          if (offsetX < 0) {
            offsetX = 0;
          }

          if (offsetY < 0) {
            offsetY = 0;
          }

          if (offsetX > 1) {
            offsetX = 1;
          }

          if (offsetY > 1) {
            offsetY = 1;
          }

          var iw = droppedImage.width;
          var ih = droppedImage.height;
          var r = Math.min(w / iw, h / ih);

          var nw = iw * r;
          var nh = ih * r;

          var cx = 1;
          var cy = 1;
          var cw = 1;
          var ch = 1;

          var ar = 1;

          if (nw < w) {
            ar = w / nw;
          }

          if (nh < h) {
            ar = h / nh;
          }

          nw *= ar;
          nh *= ar;

          cw = iw / (nw / w);
          ch = ih / (nh / h);
          cx = (iw - cw) * offsetX;
          cy = (ih - ch) * offsetY;

          if (cx < 0) {
            cx = 0;
          }

          if (cy < 0) {
            cy = 0;
          }

          if (cw > iw) {
            cw = iw;
          }

          if (ch > ih) {
            ch = ih;
          }

          context.drawImage(droppedImage, cx, cy, cw, ch, x, y, w, h);
        }, false);

        canvas.addEventListener("dragover", function (evt) {
          evt.preventDefault();
        }, false);

        // Handle dropped image file - only Firefox and Google Chrome
        canvas.addEventListener("drop", function (dropEvent) {
          var files = dropEvent.dataTransfer.files;

          if (files.length > 0) {
            var file = files[0];
            if (typeof FileReader !== "undefined" && file.type.indexOf("image") !== -1) {
              var reader = new FileReader();
              // Note: addEventListener doesn't work in Google Chrome for this event
              reader.onload = function (loadEvent) {
                droppedImage.src = loadEvent.target.result;
              };
              reader.readAsDataURL(file);
            }
          }
          dropEvent.preventDefault();
        }, false);
      })();
    </script>
  </body>
</html>